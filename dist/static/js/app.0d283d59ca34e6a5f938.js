webpackJsonp([2,0],[function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var n=s(28),r=o(n),l=s(136),i=o(l),a=s(126),u=o(a);r["default"].use(i["default"]),new r["default"]({el:"body",components:{App:u["default"]}})},,,,function(e,t,s){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t["default"]=e,t}function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){return function(t,s){var o=t.dispatch;return o(e,s)}}Object.defineProperty(t,"__esModule",{value:!0}),t.onClickOutside=t.onClickLesson=t.changeModuleColor=t.toggleSearchStatus=t.deleteModule=t.addModule=t.setDefaultTimetable=t.setUserTimetable=t.setSchool=void 0;var l=s(32),i=n(l),a=s(49),u=n(a),c=s(15),d=o(c);t.setSchool=function(e,t){var s=e.dispatch;s(d.SET_SCHOOL,t)},t.setUserTimetable=function(e,t,s,o){var n=e.dispatch;u["default"].getModulesList(t,s,o).then(function(e){return n(d.RETRIEVE_MODULES_LIST,e),u["default"].getUserModules(t,s,o)}).then(function(e){n(d.ATTACH_USER_MODULES,e)})["catch"](function(){n(d.RETRIEVE_ALL_ERROR)})},t.setDefaultTimetable=function(e){var t=e.dispatch,s=u["default"].getDefault(),o=s.then(function(e){return e?u["default"].getModulesList(e.school,e.year,e.sem):u["default"].getModulesList("NTU",2016,1)}),n=s.then(function(e){return e?u["default"].getUserModules(e.school,e.year,e.sem):u["default"].getUserModules("NTU",2016,1)});i["default"].all([s,o,n]).then(function(e){var s=e[0],o=s?s.school:"NTU";t(d.SET_SCHOOL,o),t(d.RETRIEVE_MODULES_LIST,e[1]);var n=e[2];t(d.ATTACH_USER_MODULES,n)})["catch"](function(){t(d.RETRIEVE_ALL_ERROR)})},t.addModule=function(e,t,s,o,n){var r=e.dispatch;u["default"].getModule(t,s,o,n).then(function(e){r(d.ADD_MODULE,e)})["catch"](function(){r(d.ADD_ERROR)})},t.deleteModule=r(d.DELETE_MODULE),t.toggleSearchStatus=r(d.TOGGLE_SEARCH_STATUS),t.changeModuleColor=function(e,t,s){var o=e.dispatch;o(d.CHANGE_MODULE_COLOR,t,s)},t.onClickLesson=r(d.ON_CLICK_LESSON),t.onClickOutside=function(e){var t=e.dispatch;t(d.ON_CLICK_OUTSIDE)}},,function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectable=t.getModuleResponse=t.getNumOfModules=t.getUserModules=t.getWeek=t.getSemester=t.getYear=t.getSchool=t.getSearchStatus=t.getAllModulesResponse=t.getAllModules=void 0;var n=s(30),r=o(n);t.getAllModules=function(e){return e.search.listOfModules},t.getAllModulesResponse=function(e){return e.search.retrieveAllError},t.getSearchStatus=function(e){return e.search.isSearching},t.getSchool=function(e){return e.timetable.school},t.getYear=function(e){return e.timetable.year},t.getSemester=function(e){return e.timetable.semester},t.getWeek=function(e){return e.timetable.week},t.getUserModules=function(e){return e.timetable.userModules},t.getNumOfModules=function(e){return(0,r["default"])(e.timetable.userModules).length},t.getModuleResponse=function(e){return e.timetable.retrieveError},t.getSelectable=function(e){return e.timetable.selectable}},,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.userOnboardModule=[{availability:null,code:"MOD101",color:"#E84664",credit:0,department:"Modify",description:"Just showing you the ropes, delete me!",examDuration:null,examTime:null,examVenue:null,preclusion:null,prerequisite:null,remarks:null,timetable:{Fixed:[{code:"MOD101",lessonType:"I am",classNo:"fixed.",venue:"I'm your only",weekText:"choice.",dayText:"tue",displayStatus:"only",startTime:"1000",endTime:"1200",hours:2,uid:"MOD1010lecFixedIcan't"}],Click:[{code:"MOD101",lessonType:"Click",classNo:"on me!",venue:"I can be",weekText:"swapped.",dayText:"mon",displayStatus:"selected",startTime:"0900",endTime:"1000",hours:1,uid:"MOD101Clickon me!I can"},{code:"MOD101",lessonType:"Click",classNo:"to select",venue:"me. I will be",weekText:"swapped.",dayText:"mon",displayStatus:"hidden",startTime:"1000",endTime:"1100",hours:1,uid:"MOD101Clickto select me.I was"}]},title:"Intro to Modify"}],t.colorsList=["#42A5F5","#4CAF50","#EBB72C","#f64747","#FF8300","#BA68C8","#7BC0BF","#607D8B","#919191"],t.USER_MODULES_KEY="user-modules",t.MODULES_LIST_KEY="modify-modules",t.USER_SETTINGS_KEY="user-settings"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_SCHOOL="SET_SCHOOL",t.RETRIEVE_MODULES_LIST="RETRIEVE_MODULES_LIST",t.RETRIEVE_ALL_ERROR="RETRIEVE_ALL_ERROR",t.ATTACH_USER_MODULES="ATTACH_USER_MODULES",t.ADD_MODULE="ADD_MODULE",t.ADD_ERROR="ADD_ERROR",t.DELETE_MODULE="DELETE_MODULE",t.HIDE_MODULE="HIDE_MODULE",t.EDIT_MODULE="EDIT_MODULE",t.CHANGE_MODULE_COLOR="CHANGE_MODULE_COLOR",t.TOGGLE_SEARCH_STATUS="TOGGLE_SEARCH_STATUS",t.ON_CLICK_LESSON="ON_CLICK_LESSON",t.ON_CLICK_OUTSIDE="ON_CLICK_OUTSIDE"},,,,,,,,,,,,,,function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(28),r=o(n),l=s(137),i=o(l),a=s(52),u=o(a),c=s(51),d=o(c),f=s(50),h=o(f);r["default"].use(i["default"]),t["default"]=new i["default"].Store({modules:{timetable:u["default"],search:d["default"]},plugins:[h["default"]],strict:!1})},,,,,,,,,,,,,,,,,,,,function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){return h["default"].getItem(e).then(function(s){if(s){var o=(new Date-s.date)/1e3;if(Math.abs(o)<86400)return i["default"].resolve(s.data)}return t.then(function(t){var s=t.json(),o={data:s,date:new Date};return h["default"].setItem(e,o),s})})}function r(e){return h["default"].getItem(e).then(function(e){return e?i["default"].resolve(e):h["default"].keys().then(function(e){return e.length>50&&e.forEach(function(e){e.indexOf("-")===-1&&e.indexOf("user")===-1&&h["default"].removeItem(e)}),e.some(function(e){return e.indexOf(_.USER_MODULES_KEY)!==-1})?i["default"].resolve(null):i["default"].resolve(_.userOnboardModule)})})}Object.defineProperty(t,"__esModule",{value:!0});var l=s(32),i=o(l),a=s(28),u=o(a),c=s(135),d=o(c),f=s(48),h=o(f),_=s(14);u["default"].use(d["default"]);var p="https://api.modify.sg/",m=u["default"].resource(p+"modulesList/{/school}/{/year}/{/sem}"),M=u["default"].resource(p+"modules/{/school}/{/year}/{/sem}/{/moduleCode}");t["default"]={getDefault:function(){return h["default"].getItem(_.USER_SETTINGS_KEY)},getModulesList:function(e,t,s){return n(_.MODULES_LIST_KEY+e+t+s,m.get({school:e,year:t,sem:s}))},getUserModules:function(e,t,s){return r(_.USER_MODULES_KEY+e+t+s)},getModule:function(e,t,s,o){return n(o,M.get({school:e,year:t,sem:s,moduleCode:o}))}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(48),r=o(n),l=s(15),i=s(14),a=function(e){e.subscribe(function(e,t){var s=t.timetable;(e.type===l.ADD_MODULE||e.type===l.DELETE_MODULE||e.type===l.CHANGE_MODULE_COLOR||e.type===l.ON_CLICK_LESSON&&0===s.selectable.length)&&r["default"].setItem(i.USER_MODULES_KEY+s.school+s.year+s.semester,s.userModules),e.type!==l.SET_SCHOOL&&e.type!==l.ADD_MODULE||r["default"].setItem(i.USER_SETTINGS_KEY,{school:s.school,year:s.year,sem:s.semester})})};t["default"]=a},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n,r=s(33),l=o(r),i=s(64),a=o(i),u=s(15),c={listOfModules:[],retrieveAllError:!1,isSearching:!1,deletedModuleIndexes:{}},d=(n={},(0,l["default"])(n,u.RETRIEVE_MODULES_LIST,function(e,t){e.retrieveAllError=!1,t=t.sort(function(e,t){return e.code.localeCompare(t.code)}),t.forEach(function(e){return(0,a["default"])(e)}),e.listOfModules=t}),(0,l["default"])(n,u.RETRIEVE_ALL_ERROR,function(e){e.retrieveAllError=!0}),(0,l["default"])(n,u.ADD_MODULE,function(e,t){for(var s=0,o=e.listOfModules.length;s<o;s++){var n=e.listOfModules[s];if(t.code===n.code){e.listOfModules.splice(s,1),e.deletedModuleIndexes[n.code]=s;break}}}),(0,l["default"])(n,u.ATTACH_USER_MODULES,function(e,t){if(t)for(var s=t.length,o=function(o,n){var l=e.listOfModules[o];return t.some(function(e){return e.code===l.code})&&(e.listOfModules.splice(o,1),e.deletedModuleIndexes[l.code]=o,s--,n--),s<=0?"break":void(r=n)},n=0,r=e.listOfModules.length-s;n<r;n++){var l=o(n,r);if("break"===l)break}}),(0,l["default"])(n,u.DELETE_MODULE,function(e,t){var s=(0,a["default"])({code:t.code,title:t.title}),o=e.deletedModuleIndexes[t.code];e.listOfModules.splice(o,0,s)}),(0,l["default"])(n,u.TOGGLE_SEARCH_STATUS,function(e){e.isSearching=!e.isSearching}),n);t["default"]={state:c,mutations:d}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e){e.userModules=[],(0,g["default"])(e.week).forEach(function(t){e.week[t]=[]})}function r(e){return e.replace(/_\w/g,function(e){return e[1].toUpperCase()})}function l(e){var t=e.selected.classNo;e.selectable.forEach(function(e){e.classNo!==t?e.displayStatus=S:e.displayStatus=y}),e.selectable=[]}function i(e){for(var t=e.length-1;t>=0;t--)e[t].sort(function(e,t){return t.hours-e.hours})}function a(e,t){if(Array.isArray(t.timetable)){for(var s={},o=t.timetable.length-1;o>=0;o--){var n=c(t.timetable[o],t.code);u(s,n),e.week[n.dayText].push(n)}(0,_["default"])(s).forEach(function(e){var t=e[0].classNo;e.every(function(e){return e.classNo===t})&&e.forEach(function(e){e.displayStatus=T})}),t.timetable=s}else(0,_["default"])(t.timetable).forEach(function(t){for(var s=t.length-1;s>=0;s--){var o=t[s];e.week[o.dayText].push(o)}})}function u(e,t){var s=t.lessonType;if(e.hasOwnProperty(s)){var o=e[s][0].classNo;t.classNo===o?t.displayStatus=y:t.displayStatus=S,e[s].push(t)}else t.displayStatus=y,e[s]=[t]}function c(e,t){var s={};return(0,g["default"])(e).forEach(function(t){s[r(t)]=e[t]}),"Every week"===s.weekText&&(s.weekText=""),s.startTime=s.startTime.slice(0,5).replace(":",""),s.endTime=s.endTime.slice(0,5).replace(":",""),s.hours=d(s.startTime,s.endTime),s.code=t,s.lessonType=s.lessonType.toUpperCase(),s.dayText=s.dayText.toLowerCase(),s.uid=t+s.lessonType+s.classNo+s.venue,s}function d(e,t){var s=e.slice(2),o=parseInt(t.slice(0,2),10)-parseInt(e.slice(0,2),10),n=parseInt(t.slice(2),10)-parseInt(s,10);return o+n/60}Object.defineProperty(t,"__esModule",{value:!0});var f,h=s(31),_=o(h),p=s(33),m=o(p),M=s(30),g=o(M),v=s(15),E=s(14),y="selected",S="hidden",O="ghosted",T="only",b="initial",x={school:"NUS",year:2016,semester:1,week:{mon:[],tue:[],wed:[],thu:[],fri:[],sat:[],sun:[]},userModules:[],selectable:[],selected:{},colorCounter:-1,retrieveError:!1},L=(f={},(0,m["default"])(f,v.SET_SCHOOL,function(e,t){"NUS"!==t&&"NTU"!==t||(e.school=t)}),(0,m["default"])(f,v.ATTACH_USER_MODULES,function(e,t){if(n(e),t){e.userModules=t;for(var s=e.userModules.length-1;s>=0;s--)a(e,e.userModules[s]);i(e.week)}}),(0,m["default"])(f,v.ADD_MODULE,function(e,t){e.retrieveError=!1,1===e.userModules.length&&"MOD101"===e.userModules[0].code&&n(e);var s={};(0,g["default"])(t).forEach(function(e){s[r(e)]=t[e]}),e.userModules.push(s),s.timetable&&(a(e,s),i(e.week)),e.colorCounter=(e.colorCounter+1)%E.colorsList.length,s.color=E.colorsList[e.colorCounter]}),(0,m["default"])(f,v.ADD_ERROR,function(e){e.retrieveError=!0}),(0,m["default"])(f,v.CHANGE_MODULE_COLOR,function(e,t,s){t.color=s}),(0,m["default"])(f,v.DELETE_MODULE,function(e,t){for(var s=e.week,o=t.code,n=(0,g["default"])(s),r=n.length-1;r>=0;r--){var l=n[r];s[l]=s[l].filter(function(e){return e.code!==o})}e.userModules.$remove(t)}),(0,m["default"])(f,v.ON_CLICK_LESSON,function(e,t){if(0===e.selectable.length){for(var s=void 0,o=0,n=e.userModules.length;o<n&&(s=e.userModules[o],s.code!==t.code);o++);e.selectable=s.timetable[t.lessonType];for(var r=e.selectable.length-1;r>=0;r--){var i=e.selectable[r];i.classNo===t.classNo?i.displayStatus=b:i.displayStatus=O}e.selected=t}else e.selected.code===t.code&&e.selected.lessonType===t.lessonType&&(e.selected=t),l(e)}),(0,m["default"])(f,v.ON_CLICK_OUTSIDE,function(e){e.selectable.length>0&&l(e)}),f);t["default"]={state:x,mutations:L}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(132),r=o(n),l=s(134),i=o(l),a=s(133),u=o(a),c=s(129),d=o(c),f=s(29),h=o(f),_=s(4);t["default"]={components:{ModNavigator:r["default"],ModTimetable:i["default"],ModSearch:u["default"],ModInfo:d["default"]},store:h["default"],vuex:{actions:{onClickOutside:_.onClickOutside}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(14),n=s(4);t["default"]={vuex:{actions:{changeModuleColor:n.changeModuleColor}},props:{module:{type:Object}},data:function(){return{colorsList:o.colorsList}},methods:{changeColor:function(e){for(var t=document.styleSheets[0],s=t.cssRules,o=0,n=s.length;o<n;o++)if(s[o].selectorText===".module__"+this.module.code){s[o].style.background=e;break}this.changeModuleColor(this.module,e)}}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(131),r=o(n);s(4),s(6),t["default"]={name:"Day",vuex:{actions:{},getters:{}},components:{ModLesson:r["default"]},props:{name:{type:String,required:!0},lessons:{type:Array,required:!0},isExpanded:{type:Boolean,"default":!1}},computed:{schedule:function(){var e=this.isExpanded?16:12,t=this.processLessons(this.lessons,e),s=t.sortedLessons,o=t.lessonCount;if(0===o)return[this.generateArrayFromHours(e)];for(var n=[];o>0&&n.length<50;){for(var r=this.generateArrayFromHours(e),l=0,i=0;i<e;)if(0===s[i].length)i++,l=0;else{var a=s[i][0],u=parseInt(a.startTime.slice(2),10)/60;if(l>u)i++,l=0;else{r[i]=[s[i].shift()];var c=Math.floor(u+a.hours);i+=c,l=u+a.hours-c,o--}}n.push(r)}return n}},methods:{generateArrayFromHours:function(e){for(var t=[],s=0;s<e;s++)t[s]=[];return t},processLessons:function(e,t){var s=this.generateArrayFromHours(t),o=0;return e.forEach(function(e){if("hidden"!==e.displayStatus){var t=parseInt(e.startTime.slice(0,2),10)-8;s[t].push(e),o++}}),{sortedLessons:s,lessonCount:o}}}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(130),r=o(n),l=s(6);t["default"]={vuex:{getters:{userModules:l.getUserModules,modulesNum:l.getNumOfModules,hasError:l.getModuleResponse,isSearching:l.getSearchStatus}},components:{ModInfoRow:r["default"]}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(127),r=o(n),l=s(4);t["default"]={vuex:{actions:{deleteModule:l.deleteModule}},components:{ModChangeColor:r["default"]},props:{module:{type:Object}},data:function(){return{isChoosingColor:!1,showMoreInfo:!1,colorClass:"",readableDateTime:""}},created:function(){this.readableDateTime=this.parseDateTime(this.module.examTime),this.colorClass="module__"+this.module.code;var e=this.module.color;document.styleSheets[0].insertRule("."+this.colorClass+"{background:"+e+";}",0)},beforeDestroy:function(){for(var e=this,t=document.styleSheets[0],s=t.cssRules,o=function(o,n){if(s[o].selectorText==="."+e.colorClass)return setTimeout(function(){return t.deleteRule(o)},300),"break"},n=0,r=s.length;n<r;n++){var l=o(n,r);if("break"===l)break}},methods:{parseDateTime:function(e){if(!e)return"No exams";var t=new Date(e),s={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return t.toLocaleDateString("en-GB",s)},toggleInfo:function(){this.showMoreInfo=!this.showMoreInfo},setIsPainting:function(){this.isChoosingColor=!this.isChoosingColor},toggleClass:function(e,t){return e?t+"--activated":""}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(4);s(6),t["default"]={name:"Lesson",vuex:{actions:{onClickLesson:o.onClickLesson},getters:{}},props:{lesson:{type:Object}},data:function(){return{isHorizontal:!0,lessonIdentifier:""}},created:function(){var e=window.matchMedia("(min-width: 1280px)");e.addListener(this.handleMediaChange),this.handleMediaChange(e)},methods:{handleMediaChange:function(e){this.isHorizontal=e.matches},lessonClick:function(){"only"!==this.lesson.displayStatus&&this.onClickLesson(this.lesson)},highlightSame:function(){var e=this.lesson.displayStatus;"ghosted"!==e&&"initial"!==e||this.selectDom("lesson--highlight")},selectDom:function(e){for(var t=document.getElementsByClassName(this.lessonIdentifier),s=t.length-1;s>=0;s--)t[s].classList.toggle(e)},setClass:function(){return this.lessonIdentifier=this.lesson.uid.slice(0,-this.lesson.venue.length),["module__"+this.lesson.code,"lesson--"+this.lesson.displayStatus,this.lessonIdentifier]},setStyle:function(){var e=parseInt(this.lesson.startTime.slice(2),10)/60,t=this.lesson.hours,s={};return 1!==t&&(0!==e&&this.setPosition(s,e),this.setSize(s,t)),0!==e&&this.setPosition(s,e),s},setPosition:function(e,t){this.isHorizontal?e.left=100*t+"%":e.top=100*t+"%"},setSize:function(e,t){this.isHorizontal?e.width=100.2*t+"%":e.height=100*t+"%"}}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(29),r=o(n),l=s(6),i=s(4);t["default"]={store:r["default"],vuex:{actions:{setSchool:i.setSchool,setUserTimetable:i.setUserTimetable},getters:{school:l.getSchool,year:l.getYear,getSemester:l.getSemester}},methods:{swapSchool:function(){var e="NUS"===this.school?"NTU":"NUS";this.setSchool(e),this.setUserTimetable(e,this.year,this.getSemester)}},data:function(){return{week:"",semester:""}},created:function(){var e=new Date(2016,7,8),t=new Date,s=Math.ceil((t-e)/6048e5);switch(this.week="Week "+s,this.getSemester){case 1:this.semester="Semester 1";break;case 2:this.semester="Semester 2";break;case 3:this.semester="Special Term I";break;case 4:this.semester="Special Term II";break;default:this.semester="Semester 1"}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(4),n=s(6);t["default"]={vuex:{actions:{toggleSearchStatus:o.toggleSearchStatus,setDefaultTimetable:o.setDefaultTimetable,addModule:o.addModule},getters:{isActive:n.getSearchStatus,listOfModules:n.getAllModules,userModules:n.getUserModules,hasError:n.getAllModulesResponse,school:n.getSchool,year:n.getYear,sem:n.getSemester}},data:function(){return{hasFocus:!1,query:"",pointer:0,pos:0}},created:function(){this.setDefaultTimetable()},ready:function(){var e=this,t=this.$els.searchAdd,s="search__add--float";window.onscroll=function(){window.scrollY<e.$el.getBoundingClientRect().top?t.classList.add(s):t.classList.remove(s)}},computed:{queriedModules:function(){return this.querySearch(this.listOfModules)}},methods:{toggleSearch:function(){var e=this;this.toggleSearchStatus(),this.isActive===!0?this.$nextTick(function(){return e.$els.input.focus()}):(this.hasFocus=!1,this.query="")},toggleActive:function(e){return[e,this.isActive?e+"--active":""]},selectModule:function(e){this.addModule(this.school,this.year,this.sem,e),this.query=""},pointAtModule:function(e){this.pointer=e},pointerReset:function(){this.pointAtModule(0)},keydown:function(e){var t=e.keyCode;switch(t){case 40:this.pointer++;break;case 38:this.pointer--;break;case 13:if(""!==this.query){var s=this.queriedModules[this.pointer].code;this.selectModule(s)}break;case 27:this.hasFocus=!1,this.$els.input.blur()}var o=Math.min(6,this.queriedModules.length-1);this.pointer>o?this.pointer=0:this.pointer<0&&(this.pointer=0)},userHasIt:function(e){return this.userModules.some(function(t){return t.code===e})},queryCode:function(e,t,s){return isNaN(parseInt(t,10))?0===e.indexOf(t):e.search(s)!==-1},querySearch:function(e){for(var t=this.query.toUpperCase(),s=new RegExp("\\b"+this.query,"i"),o=new RegExp("[a-zA-Z]"+this.query),n=[],r=[],l=0,i=e.length;l<i;l++){var a=e[l];if(this.queryCode(a.code,t,o)?n.push(a):a.title.search(s)!==-1&&r.push(a),n.length+r.length>250)break}return n.concat(r)}}}},function(e,t,s){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(62),r=o(n),l=s(31),i=o(l),a=s(128),u=o(a);s(4);var c=s(6);t["default"]={vuex:{actions:{},getters:{week:c.getWeek,getSelectable:c.getSelectable,school:c.getSchool,year:c.getYear,sem:c.getSemester}},components:{ModDay:u["default"]},data:function(){return{timings:[]}},computed:{isExpanded:function(){for(var e=2e3,t=(0,i["default"])(this.week),s=t.length-1;s>=0;s--){var o=!0,n=!1,l=void 0;try{for(var a,u=(0,r["default"])(t[s]);!(o=(a=u.next()).done);o=!0){var c=a.value;if("hidden"!==c.displayStatus&&parseInt(c.endTime,10)>e)return!0}}catch(d){n=!0,l=d}finally{try{!o&&u["return"]&&u["return"]()}finally{if(n)throw l}}}return!1},filteredTimings:function(){var e=this.isExpanded?17:13;return this.timings.slice(0,e)}},created:function(){for(var e=8;e<=24;e++){var t=("0"+e%24).slice(-2);this.timings.push({hour:e%12||12,period:e<12||e>23?" AM":" PM",time:t+":00"})}},methods:{toggleExpanded:function(e){var t=e+"--expanded";return[e,this.isExpanded?t:""]},toggleHover:function(){return 0!==this.getSelectable.length?"day--hoverable":""}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjRkZGIiB2aWV3Qm94PSIwIDAgMTI4IDEyNSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEuNDE0Ij48cGF0aCBkPSJNNjMuOTk0LjE1MkMyOC42Ni4xNTIgMCAyOC44MDYgMCA2NC4xNThjMCAyOC4yNzIgMTguMzM2IDUyLjI2IDQzLjc2OCA2MC43MjYgMy4yLjU4NiA0LjM3LTEuMzkyIDQuMzctMy4wODQgMC0xLjUyLS4wNi01LjU0NC0uMDkyLTEwLjg4OC0xNy44IDMuODctMjEuNTYtOC41NzYtMjEuNTYtOC41NzYtMi45MDYtNy4zOTQtNy4xMDItOS4zNjQtNy4xMDItOS4zNjQtNS44MTItMy45NzIuNDQtMy44ODguNDQtMy44ODggNi40MjQuNDUyIDkuOCA2LjU5MiA5LjggNi41OTIgNS43MTIgOS43ODQgMTQuOTg0IDYuOTYgMTguNjMgNS4zMi41OC00LjE0IDIuMjM0LTYuOTYgNC4wNi04LjU2LTE0LjIxLTEuNjEyLTI5LjE1LTcuMTA0LTI5LjE1LTMxLjYzIDAtNi45ODQgMi40OTQtMTIuNyA2LjU4OC0xNy4xNzItLjY2LTEuNjItMi44NTYtOC4xMi42MjgtMTYuOTMyIDAgMCA1LjM3NC0xLjcyIDE3LjYgNi41NiA1LjEwNC0xLjQyIDEwLjU4LTIuMTI4IDE2LjAyLTIuMTUyIDUuNDQuMDI0IDEwLjkxNC43MzQgMTYuMDI0IDIuMTU0IDEyLjIyLTguMjggMTcuNTgtNi41NiAxNy41OC02LjU2IDMuNDk2IDguODEgMS4zIDE1LjMxNi42NCAxNi45MzYgNC4xMDQgNC40NzYgNi41OCAxMC4xOSA2LjU4IDE3LjE3NCAwIDI0LjU4Ni0xNC45NjYgMzAtMjkuMjIgMzEuNTggMi4yOTYgMS45OCA0LjM0IDUuODggNC4zNCAxMS44NTQgMCA4LjU1Ni0uMDc2IDE1LjQ2LS4wNzYgMTcuNTYgMCAxLjcwNiAxLjE1NCAzLjcgNC40IDMuMDc0QzEwOS42OCAxMTYuMzk2IDEyOCA5Mi40MiAxMjggNjQuMTU2IDEyOCAyOC44MDggOTkuMzQ0LjE1MiA2My45OTQuMTUyeiIvPjwvc3ZnPg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAAQMAAACQp+OdAAAABlBMVEUAAAAzMzPI8eYgAAAAAXRSTlMAQObYZgAAAGZJREFUeAFjIAbY/wOR9X/wMWzkQIwKG1owFGAMARhDAsbggzHYYQzmBiiD8QDMnAcMEhBGAYMBhFHD8ADCsGM+AGHIszdAGPzzobrY/0EZzH+gDMYfMId9gDE2wJ06RBlERS5uAAAnCFT2YNRPKAAAAABJRU5ErkJggg=="},function(e,t,s){e.exports=" <header> <div class=header__container> <img class=container__logo src="+s(116)+"> <span class=container__logo-text>odify</span> <mod-navigator></mod-navigator> </div> </header> <main class=app @click=onClickOutside> <mod-timetable></mod-timetable> <section class=controls> <div class=controls__container> <mod-search> </mod-search> <mod-info> </mod-info> </div> </section> </main> <footer> <div class=footer__container> <div class=container__contribute> <div class=contribute__title>Contribute:</div> <a href=https://github.com/li-kai/modify class=contribute__github> <img src="+s(115)+"> </a> </div> <div class=container__copyright>Copyright Â© 2016 Modify. All rights reserved.</div> </div> </footer> "},function(e,t){e.exports=' <ul class=colors> <li class=colors__item v-for="n in 9" @click=changeColor(colorsList[n])> <div class=item__shape :class="\'color__\' + (n + 1)"></div> </li> </ul> '},function(e,t){e.exports=' <li class=day> <div class=day__name>{{ name }}</div> <ul class=day__hours> <ol class=hours__row v-for="row in schedule"> <li class=row__hour track-by=$index v-for="hour in row"> <mod-lesson v-for="lesson in hour" track-by=uid :lesson=lesson><mod-lesson> </mod-lesson></mod-lesson></li> </ol> </ul> </li> '},function(e,t){e.exports=' <table :class="[\'modify-table\', {\'modify-table--active\': isSearching}]"> <thead> <tr class=table__header v-if="modulesNum > 0" transition=table__module> <th class=header__color></th> <th class=header__code>Code</th> <th class=header__title>Title</th> <th class=header__credit>Credits</th> <th class=header__exam>Exam Timing</th> <th class=header__action></th> </tr> </thead> <tbody> <tr v-if=hasError transition=table__row> <td colspan=6 class=table__error> Please refresh the page to try again. We could not connect to the database. </td> </tr> <tr v-if="modulesNum == 0 && !hasError" transition=table__row> <td colspan=6 class=table__intro>Click the button to add a module!</td> </tr> </tbody> <tbody is=mod-info-row v-for="module in userModules" :module=module transition=table__module> </tbody> </table> '},function(e,t){e.exports=' <tbody class=table__body> <tr class=body__module :class="toggleClass(!showMoreInfo, \'body__module\')"> <td class=module__color> <div class=color__shape :class=colorClass></div> </td> <td class=module__code>{{ module.code }}</td> <td class=module__title>{{ module.title }}</td> <td class=module__credit>{{ module.credit }}</td> <td class=module__exam>{{ readableDateTime }}</td> <td class=module__action :class="toggleClass(!showMoreInfo, \'module__action\')"> <button class=action__button @click=deleteModule(module)> <svg><use xlink:href=#delete /></svg> </button> <button class=action__button @click=setIsPainting() :class="toggleClass(isChoosingColor, \'action__button\')"> <svg><use xlink:href=#paint /></svg> </button> <button class=action__button @click=toggleInfo() :class="toggleClass(showMoreInfo, \'action__button\')"> <svg><use xlink:href=#info /></svg> </button> <mod-change-color @click=setIsPainting() v-if=isChoosingColor :module=module transition=color></mod-change-color> </td> </tr> <tr class=module__more-info v-show=showMoreInfo transition=module__more-info> <td class="more-info__col more-info__description" colspan=3> <h4 class=more-info__header>Description:</h4> <p>{{ module.description }}</p> <h4 class=more-info__header v-if=module.availability>Availability:</h4> <p v-if=module.availability>{{ module.availability }}</p> </td> <td class=more-info__col> <h4 class=more-info__header>Remarks:</h4> <p>{{ module.remarks }}</p> <p v-if=!module.remarks>None</p> </td> <td class=more-info__col> <h4 class=more-info__header>Prerequisite:</h4> <p>{{ module.prerequisite }}</p> <p v-if=!module.prerequisite>None</p> </td> <td class=more-info__col> <h4 class=more-info__header>Preclusion:</h4> <p>{{ module.preclusion }}</p> <p v-if=!module.preclusion>None</p> </td> </tr> </tbody> '},function(e,t){e.exports=" <div class=lesson :style=setStyle() :class=setClass() @click.stop=lessonClick() @mouseenter=highlightSame() @mouseleave=highlightSame()> <div class=lesson__code>{{ lesson.code }}</div> <div class=lesson__type>{{ lesson.lessonType }}&nbsp{{ lesson.classNo }}</div> <div class=lesson__venue>{{ lesson.venue }}</div> <div class=lesson__week>{{ lesson.weekText }}</div> </div> "},function(e,t){e.exports=' <nav class=navigator> <div class=navigator__current> <span class=current__year>{{ year }},</span> <span class=current__semester>{{ semester }}</span><div class=current__break></div> <span class=current__week>{{ week }}</span> </div> <div class=navigator__menu> <button class=menu__swap :class="`menu__swap--${school}`" @click=swapSchool> {{ school }} </button> </div> </nav> '},function(e,t){e.exports=' <div class=search> <h1 :class="toggleActive(\'search__header\')">Modules</h1> <label class=search__label for=mod v-show=isActive transition=search__label> Search </label> <div class=search__bar> <input class=bar__input id=mod name=mod autocomplete=off autocorrect=off autocapitalize=off spellcheck=false title="Search modules" type=text value="" role=combobox dir=ltr aria-label="Search modules" aria-haspopup=false aria-autocomplete=list v-show=isActive transition=bar__input v-el:input=v-el:input v-model=query @focus="hasFocus = true" @input=pointerReset() @keydown=keydown /> <ul class=bar__list v-show="hasFocus && query"> <li class=list__module :class="{\'list__module--selected\': $index === pointer }" v-for="module of queriedModules" track-by=$index @click=selectModule(module.code) @mouseover=pointAtModule($index)> {{ module.code }} : {{ module.title }} </li> <li class=list__module v-show="queriedModules.length === 0">No results found.</li> </ul> </div> <button :class="toggleActive(\'search__add\')" class=search__add--float title="Add a module" @click=toggleSearch v-el:search-add> <svg :class="toggleActive(\'add__icon\')"><use xlink:href=#plus /></svg> </button> <div class=search__error v-if=hasError>No connection to Modify. Please refresh the page to try again.</div> </div> '},function(e,t){e.exports=' <section :class="toggleExpanded(\'timetable\')"> <ol :class="toggleExpanded(\'timings\')"> <li class=timings__hour v-for="timing in filteredTimings"> <time :datetime=timing.time> {{ timing.hour }}<small>{{ timing.period }}</small> </time> </li> </ol> <ol class=week> <li is=mod-day :class=toggleHover() v-for="(name, lessons) in week" v-if="$index < 5 || lessons.length > 0" :name=name :lessons=lessons :is-expanded=isExpanded> <div slot=name>{{ name }}</div> </li> </ol> </section> '},function(e,t,s){var o,n;s(106),o=s(53),n=s(117),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,s){var o,n;s(107),o=s(54),n=s(118),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,s){var o,n;s(108),o=s(55),n=s(119),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,s){var o,n;s(109),o=s(56),n=s(120),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,s){var o,n;s(110),o=s(57),n=s(121),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,s){var o,n;s(111),o=s(58),n=s(122),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,s){var o,n;s(112),o=s(59),n=s(123),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,s){var o,n;s(113),o=s(60),n=s(124),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)},function(e,t,s){var o,n;s(114),o=s(61),n=s(125),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)}]);
//# sourceMappingURL=app.0d283d59ca34e6a5f938.js.map